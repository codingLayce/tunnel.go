= Tunnel

Tunnel aims to be a dead simple "queuing system".

You are in the internal protocol repository.

It contains abstraction layer for tcp and the protocol implementation.

== Payloads

Each payload of the protocol follows the following pattern : `<indicator><transaction_id><data>\n`

.Legend
* indicator : 1 byte
* transaction_id : 8 bytes (used to reconcile async acknowledgement)
* data : [0,n] bytes

== Commands

Below, the list of supported commands.

[cols="1,2,2,2,3,2"]
|===
|*Indicator*
|*Name*
|*Arguments*
|*Usage*
|*Description*
|*Example*

|@
|Ack
|OK
|client/server
|Tells the peer that the previous command has been successfully received.
|@abcd0123OK\n

|@
|Nack
|KO
|client/server
|Tells the peer that the previous command hasn't been successfully received.
|@abcd0123KO\n

|+
|Create Tunnel
|<name>
|client
|Asks the server to create a new Tunnel with the given name.
|+abcd0123MyTunnel\n
|===

.Legend
* Indicator : The payload must start with this indicator.
* Name : Command's name.
* Arguments : <> indicates user input. Otherwise, the value is hard-coded.
* Usage : Client side, server side or both.
* Description : Quick description of the command.
* Example : Simple command's valid payload.